package ca.jay.jac444.week6.homework;

import java.io.File;
import java.io.FileInputStream;
import java.io.EOFException;
import java.io.IOException;
import java.io.ObjectInputStream;

public class Lab6Task4 {

	public static void main(String[] args)
	{
		Lab6Task3 loan = null;
        try (
        	FileInputStream fis = new FileInputStream(new File("Exercise_01.txt"));
        	ObjectInputStream ois = new ObjectInputStream(fis);
            ) 
        {
        	double totalAmount = 0.0d;        	
        	while ((loan = (Lab6Task3) ois.readObject()) != null)
        	{
        		totalAmount += loan.getTotalPayment();
                System.out.println(loan.loanDate + " total payment is " + loan.getTotalPayment());        		
        	}
            System.out.println("Total Amount: " + totalAmount);
        } catch (EOFException e) {
            e.printStackTrace();
	    } catch (ClassNotFoundException e) {
            e.getCause();
        } catch (IOException e) {
            e.printStackTrace();
        }

		
	}
	
}
